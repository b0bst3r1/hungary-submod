##################
# GREAT BALKAN WAR EVENTS
##################

add_namespace = greatbalkwar
add_namespace = balkwarpeace

add_namespace = balkan.test

country_event = {		#Test balkan war
	id =  balkan.test.1
	title =  balkan.test.1.t
	desc =  balkan.test.1.d
	picture = GFX_report_PB_Generic_War_Event
	is_triggered_only = yes
	fire_only_once = yes	
	
	option = { 
		name =  balkan.test.1.a

		ai_chance = {
			factor = 100
        }

		ROM = {
			country_event = { id = greatbalkwar.7 days = 2 }
		}	   
	   
		BUL = {
			country_event = { id = bul.1 days = 1 }
		}
    }
}

country_event = {		#PrepareForWar - Romania
	id = greatbalkwar.1
	title = greatbalkwar.1.t
	desc = greatbalkwar.1.d
	picture = GFX_report_PB_Generic_War_Event	
	is_triggered_only = yes
	
	mean_time_to_happen = {
		days = 90
	}

	fire_only_once = yes

	option = { #Ok
		name = greatbalkwar.1.a

		ai_chance = {
			factor = 100
        }

		add_war_support = 0.1

       hidden_effect = {

		ROM = {
			country_event = { id = greatbalkwar.7 days = 14 }
		}	   
	   
		BUL = {
			country_event = { id = greatbalkwar.2 days = 1 }
		}
		
		HUN = {
			country_event = { id = greatbalkwar.2 days = 1 }
		}

		SER = {
			country_event = { id = greatbalkwar.2 days = 1 }
		}

		GRE = {
			country_event = { id = greatbalkwar.2 days = 1 }
		}

		TUR = {
			country_event = { id = greatbalkwar.2 days = 1 }
		}		
	 }
   }
}


country_event = {		#PrepareForWar - Everyone
	id = greatbalkwar.2
	title = greatbalkwar.2.t
	desc = greatbalkwar.2.d
	picture = GFX_report_PB_Generic_War_Event
	is_triggered_only = yes

	option = { #Ok
		name = greatbalkwar.2.a

		ai_chance = {
			factor = 100
        }

		add_war_support = 0.1
	}
}

country_event = {		#JoinTheWar as Greece
	id = greatbalkwar.3
	title = greatbalkwar.3.t
	desc = greatbalkwar.3.d
	picture = GFX_report_PB_Generic_War_Event
	is_triggered_only = yes

	fire_only_once = yes

	option = { #Declare on em
		name = greatbalkwar.3.a

		ai_chance = {
			factor = 100
        }
		
		hidden_effect = { 
		TUR = {
			country_event = { id = greatbalkwar.4 days = 2 }
		}
       }		
		
			SER = {				
               add_to_faction = GRE				
			      }		

declare_war_on = {
    target = BUL
    type = annex_everything
        }

declare_war_on = {
    target = HUN
    type = annex_everything
        }

add_ideas = ROM_russian_help		
	}
}

country_event = {		#JoinTheWar as Turkey
	id = greatbalkwar.4
	title = greatbalkwar.4.t
	desc = greatbalkwar.4.d
	picture = GFX_report_PB_Generic_War_Event
	is_triggered_only = yes

	fire_only_once = yes

	option = { #Declare on em
		name = greatbalkwar.4.a

		ai_chance = {
			factor = 100
        }
		
			HUN = {				
               add_to_faction = TUR				
			      }

			if = {
				limit = {
					HUN = {
					has_completed_focus = hun_zagreb_treaty	
					}
				}
					TUR = {			
            add_ideas = HUN_zagreb_treaty
			}
		}

			if = {
				limit = {
					HUN = {
					has_completed_focus = hun_budapest_entente	
					}
				}
					TUR = {			
            add_ideas = HUN_Budapest_Entente
			}
		  }				  

declare_war_on = {
    target = GRE
    type = annex_everything
        }		
	}
}

country_event = {		#JoinTheWar as Serbia
	id = greatbalkwar.5
	title = greatbalkwar.5.t
	desc = greatbalkwar.5.d
	picture = GFX_report_PB_Generic_War_Event
	is_triggered_only = yes

	fire_only_once = yes

	option = { #Declare on em
		name = greatbalkwar.5.a

		ai_chance = {
			factor = 100
        }

        hidden_effect = { 
		GRE = {
			country_event = { id = greatbalkwar.3 days = 7 }
		}
     }		
		
			SER = {
			create_faction = Balk_Rom
            add_to_faction = ROM				
			      }

			ROM = {
			
            declare_war_on = {
            target = HUN
            type = annex_everything
                     }				
			      }

			SER = {
			
			create_faction = Balk_Rom
			
            add_to_faction = ROM						  

            add_ideas = ROM_russian_help
		
           declare_war_on = {
            target = BUL
             type = annex_everything
                              }

           declare_war_on = {
            target = HUN
             type = annex_everything
                            }	 
						}
		
			HUN = {
            add_to_faction = BUL
            add_ideas = HUN_great_patriotic_war			
			      }				  

        add_ideas = ROM_russian_help

		every_country = {
			set_temp_variable = { super_id = 9 }
			PB_Fire_Super_Event = yes
		}	
	}
}

country_event = {		#JoinTheWar as Hungary
	id = greatbalkwar.6
	title = greatbalkwar.6.t
	desc = balkwar.6.d
	picture = greatbalkwar
	is_triggered_only = yes

	fire_only_once = yes

	option = { #Declare on em
		name = balkwar.6.a

		ai_chance = {
			factor = 100
        }
		
		hidden_effect = { 
		GRE = {
			country_event = { id = greatbalkwar.4 days = 7 }
		}
     }		
		
			HUN = {
            add_to_faction = BUL
            add_ideas = HUN_great_patriotic_war			
			      }		

declare_war_on = {
    target = ROM
    type = annex_everything
        }
		
declare_war_on = {
    target = SER
    type = annex_everything
        }			
	}
}

country_event = {		#JoinTheWar as Romania
	id = greatbalkwar.7
	title = greatbalkwar.7.t
	desc = greatbalkwar.7.d
	picture = GFX_report_PB_Generic_War_Event
	is_triggered_only = yes
	
	immediate = {
		set_global_flag = great_balk_war
	}	

	fire_only_once = yes

	option = { #Declare on em
		name = greatbalkwar.7.a

		ai_chance = {
			factor = 100
        }			

		hidden_effect = { 
		
		SER = {
			country_event = { id = greatbalkwar.5 days = 2 }
		}		
       }		

declare_war_on = {
    target = BUL
    type = annex_everything
        }

add_ideas = ROM_russian_help
		
	}
}

	   country_event = { #ROMANIAPEACE
	id = balkwarpeace.1
	title = balkwarpeace.1.t
	desc = balkwarpeace.1.d
	picture = GFX_report_event_hun_917
	is_triggered_only = yes
	fire_only_once = yes
		
	option = {
		name = balkwarpeace.1.a
	
			hidden_effect = {
			RUS = {
			country_event = { id = balkwarpeace.2 days = 1 }
		}
	}	
	
	         HUN = {
         puppet = ROM
		 
	     hidden_effect = {
			set_autonomy = {
                target = ROM
                 autonomy_state = autonomy_PB_Sister_Republic
                }
			}
		}		
	  
	  	  		ROM = {
				
			remove_ideas = {
             ROM_russian_rule
	         ROM_political_turmoil
	         ROM_religious_divide			
			}				
				
			if = {
				limit = {
					HUN = {
					has_government = jc
					}
				}
			   set_politics = {
		       ruling_party = JC
		       }
			}

			if = {
				limit = {
					HUN = {
					has_government = ss
					}
				}
			   set_politics = {
		       ruling_party = SS
		       }
			  }				
	
	set_popularities = {
	       ni = 0
	       ds = 0
	       rc = 0
	       cn = 0
	       lb = 0
	       an = 0
	       ss = 50
	       jc = 50
      }
	  
		kill_country_leader = yes

		create_country_leader = {
			name = "Barbu Lazareanu"
			desc = " "
			picture = "gfx/leaders/ROM/Portrait_barbu_lazareanu.dds"
			expire = "1965.1.1"
			ideology = JC_VARIANT_01
		}

		create_country_leader = {
			name = "Barbu Lazareanu"
			desc = " "
			picture = "gfx/leaders/ROM/Portrait_barbu_lazareanu.dds"
			expire = "1965.1.1"
			ideology = SS_VARIANT_01
		}		

	set_cosmetic_tag = ROM_Jacobin

      }
    }
  }
  
	country_event = { #RussianIntervention
	id = balkwarpeace.2
	title = balkwarpeace.2.t
	desc = balkwarpeace.2.d
	picture = GFX
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = balkwarpeace.2.a
		
		hidden_effect = {
		news_event = {
		id = hungary.5
		days = 1
		}			
	  }		
		
		MOL = {
			transfer_state = 79
			transfer_state = 80
		    add_state_core = 79
		    add_state_core = 80

            set_country_flag = PB_Russian_Autonomy
			set_country_flag = Tag_in_Russian_Sphere
			
			set_cosmetic_tag = MOL_RUS
            
set_politics = {
	ruling_party = ds
	last_election = "1936.1.1"
	election_frequency = 48
	elections_allowed = no
}

set_popularities = {
    ni = 5
    ds = 57
    rc = 18
    cn = 5
    lb = 0
    an = 0
    ss = 15
    jc = 0
}			
		
        }
		
		RUS = {
		puppet = MOL
		
			set_autonomy = {
                target = MOL
                 autonomy_state = autonomy_PB_Imperial_Autonomy
                }		
		}
		
		ai_chance = {
			factor = 100
		}
	   }
	  }

	   country_event = { #SERBIAasksPEACE
	id = balkwarpeace.3
	title = balkwarpeace.3.t
	desc = balkwarpeace.3.d
	picture = GFX_report_event_hun_916
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = balkwarpeace.3.a
	
			hidden_effect = {
		news_event = {
			id = hungary.8
			days = 9
		}
	}	
	         HUN = {
         puppet = BOS
         puppet = MNT
         puppet = SER  	
		 
	     hidden_effect = {
			set_autonomy = {
                target = BOS
                 autonomy_state = autonomy_PB_Sister_Republic
                }
			}
			
			set_autonomy = {
                target = MNT
                 autonomy_state = autonomy_PB_Sister_Republic
                }
				
			set_autonomy = {
                target = SER
                 autonomy_state = autonomy_PB_Sister_Republic
                }				
		    }
	
		SER = {
	
	set_cosmetic_tag = Ser_Jacobin
	
			if = {
				limit = {
					HUN = {
					has_government = jc
					}
				}
			   set_politics = {
		       ruling_party = JC
		       }
			}

			if = {
				limit = {
					HUN = {
					has_government = ss
					}
				}
			   set_politics = {
		       ruling_party = SS
		       }
			  }
			  
			remove_ideas = {
             SER_chetnik_issue
	         SER_ethnic_conflicts
	         SER_great_yug			
			}			  
	
   
	set_popularities = {
	       ni = 0
	       ds = 0
	       rc = 0
	       cn = 0
	       lb = 0
	       an = 0
	       ss = 50
	       jc = 50
      }
	}
	 
	  
	  		BOS = {
			
		transfer_state = 104
		
			if = {
				limit = {
					HUN = {
					has_government = jc
					}
				}
			   set_politics = {
		       ruling_party = JC
		       }
			}

			if = {
				limit = {
					HUN = {
					has_government = ss
					}
				}
			   set_politics = {
		       ruling_party = SS
		       }
			  }
	
	set_popularities = {
	       ni = 0
	       ds = 0
	       rc = 0
	       cn = 0
	       lb = 0
	       an = 0
	       ss = 50
	       jc = 50
      }

	set_cosmetic_tag = BOS_Jacobin

      }
   }
}   