on_actions = {
	
on_daily_ALB = {	#Albania joins the war	
  effect = { 
    if = {
      limit = {
	    has_global_flag = gbw_albanian_revolution_failed
		
		SER = {
		has_war_with = BUL
		}
    }
	
	  add_ideas = PB_HUN_Great_Balkan_War
	
	  SER = {
	   add_to_faction = ALB
	}
	set_global_flag = gbw_albania_ni_joined_war
	clr_global_flag = gbw_albanian_revolution_failed
    }
  }	
}

on_daily_ALB = {	#Albania Capitulation	
  effect = { 
    if = {
      limit = {
	     NOT = {	  
          controls_province = 9914	   
          }

        has_global_flag = gbw_albania_ni_joined_war		  
       }
	
	leave_faction = yes
	white_peace = HUN
	white_peace = BUL
	white_peace = TUR
	remove_ideas = PB_HUN_Great_Balkan_War

    clr_global_flag = gbw_albania_ni_joined_war
    set_global_flag = gbw_albania_lost
	
	}
  }
}  
	
on_daily_HUN = {	#RomaniaCapitulation	
  effect = { 
    if = {
      limit = {
          controls_province = 9617
          controls_province = 9716		  
    }
	
	
	ROM = {
	
    leave_faction = yes
	white_peace = HUN
	white_peace = BUL
	white_peace = TUR
	white_peace = ALB	
	remove_ideas = PB_HUN_Great_Balkan_War
	remove_ideas = ROM_russian_help	
	
	  }

    set_global_flag = gbw_romania_lost
	
	}
  }
}
 
on_daily_HUN = {	#SerbiaCapitulation
  effect = { 
    if = {
      limit = {
          controls_province = 11586
          controls_province = 11899
          controls_province = 3882		  
    }
	
	SER = {
	
    leave_faction = yes
	white_peace = HUN
	white_peace = BUL
	white_peace = TUR
	white_peace = ALB
	remove_ideas = PB_HUN_Great_Balkan_War
	remove_ideas = ROM_russian_help		
	
	  }

    set_global_flag = gbw_serbia_lost
	
	}
  }
}  

on_daily_HUN = {	#GreeceCapitulation
  effect = { 
    if = {
      limit = {
          controls_province = 9833
          controls_province = 4122
          controls_province = 10038		  
    }
	
	GRE = {
	
    leave_faction = yes
	white_peace = HUN
	white_peace = BUL	
	remove_ideas = PB_HUN_Great_Balkan_War
	remove_ideas = ROM_russian_help		
	
	  }

    set_global_flag = gbw_greece_lost
	
	}
  }
}

on_daily_HUN = {	#HungaryCapitulation
  effect = { 
    if = {
      limit = { 
	    NOT = {	  
       controls_province = 9660
       controls_province = 3617
       controls_province = 11691
       controls_province = 11659	   
    }
  }
	
	HUN = {
	
    leave_faction = yes
	white_peace = SER
	white_peace = ROM
	white_peace = GRE	
	remove_ideas = PB_HUN_Great_Balkan_War
    remove_ideas = HUN_great_patriotic_war	
	
	  }

    set_global_flag = gbw_hungary_lost
	
	    }
      }
    }
  
on_daily_BUL = {	#BulgariaCapitulation
  effect = { 
    if = {
      limit = { 
	    NOT = {	  
       controls_province = 3796
       controls_province = 949
       controls_province = 6923	   
    }
 }
	
	BUL = {
	
    leave_faction = yes
	white_peace = SER
	white_peace = ROM
	white_peace = GRE	
	remove_ideas = PB_HUN_Great_Balkan_War	
	
	  }

    set_global_flag = gbw_bulgaria_lost
	
	    }
      }
    }
	
on_daily_TUR = {	#TurkeyCapitulation
  effect = { 
    if = {
      limit = { 
	    NOT = {	  
       controls_province = 11747
       controls_province = 1005
       controls_province = 11746	   
    }
 }
	
	TUR = {
	
    leave_faction = yes
	white_peace = SER
	white_peace = ROM
	white_peace = GRE	
	remove_ideas = PB_HUN_Great_Balkan_War
    remove_ideas = TUR_Liberation_War	
	
	  }

    set_global_flag = gbw_turkey_lost
	
	    }
      }
    }	

on_daily_HUN = {	#HungaryWonPeace
  effect = { 
    if = {
      limit = { 
	    has_global_flag = gbw_romania_lost
	    has_global_flag = gbw_serbia_lost
	    has_global_flag = gbw_greece_lost		
    }
	
		every_country = {
		  set_temp_variable = { super_id = 80 }
			PB_Fire_Super_Event = yes
		}
		
		news_event = {
			id = PBNews.23
			hours = 1 
		}		
		
		   set_global_flag = gbw_hungary_won
		
		   clr_global_flag = great_balk_war
		   
	       clr_global_flag = gbw_romania_lost
	       clr_global_flag = gbw_serbia_lost
	       clr_global_flag = gbw_greece_lost	   
		   
	 	   country_event = { id = balkwarpeace.1}
           country_event = { id = balkwarpeace.3}		   
	    }
      }
    }
	
on_daily_SER = {	#SerbiaWonPeace
  effect = { 
    if = {
      limit = { 
	    has_global_flag = gbw_bulgaria_lost
	    has_global_flag = gbw_serbia_lost
	    has_global_flag = gbw_turkey_lost		
    }
	
		every_country = {
		  set_temp_variable = { super_id = 81 }
			PB_Fire_Super_Event = yes
		}
		
		news_event = {
			id = PBNews.24
			hours = 1
		}		
		
		RUS = {
		
set_autonomy = {
	target = ROM
	autonomous_state = autonomy_PB_Imperial_Autonomy
	freedom_level = 0.3
   }
 }
 
		  set_global_flag = gbw_serbia_won
 
		  clr_global_flag = great_balk_war
		   
	      clr_global_flag = gbw_bulgaria_lost
	      clr_global_flag = gbw_serbia_lost
	      clr_global_flag = gbw_turkey_lost		   
		   
	 	  country_event = { id = balkwarpeace.6}		   
	    }
      }
    }	
  }  